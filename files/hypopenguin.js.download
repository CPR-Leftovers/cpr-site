var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

var HYPOPENGUIN=HYPOPENGUIN||{};jQuery(function(b){HYPOPENGUIN={common:{init:function(){HYPOPENGUIN.Base.init();HYPOPENGUIN.Safety.init();HYPOPENGUIN.Loading.init()},finalize:function(){HYPOPENGUIN.Loading.setupLozad()}},community_page:{init:function(){HYPOPENGUIN.Account.init()}},page:{init:function(){HYPOPENGUIN.Community.init()}},single_post:{init:function(){HYPOPENGUIN.Social.setupLikes();HYPOPENGUIN.Social.setupComments();HYPOPENGUIN.Community.setupSinglePost()}},single_HYPOPENGUIN_video:{init:function(){HYPOPENGUIN.Videos.init()}},post_listing:{init:function(){HYPOPENGUIN.Community.categoryListing()}},help:{init:function(){HYPOPENGUIN.Help.init()}},home:{init:function(){b(".view-more").click(function(a){var c=b(this).parent().data("type");b(this).hasClass("submit-art")||(a.preventDefault(),a="#community_inside","videos"==c&&(a=".post-widgets"),HYPOPENGUIN.Community.setupModal(),HYPOPENGUIN.Community.getContent(b(this).attr("href"),".modal .content .frame",b(this).parent().find(".community-section-title").text(),a))});b(".banner-wrapper input").click(function(){b(this).select();document.execCommand("copy")})}}};var g={fire:function(a,b,d){var c,e=HYPOPENGUIN;b=void 0===b?"init":b;if(c=(c=""!==a&&e[a])&&"function"===typeof e[a][b])e[a][b](d)},loadEvents:function(){g.fire("common");b.each(document.body.className.replace(/-/g,"_").split(/\s+/),function(a,b){g.fire(b);g.fire(b,"finalize")});g.fire("common","finalize")}};b(document).ready(g.loadEvents);HYPOPENGUIN.Base={showCommunityNew:!0,init:function(){this.setupQuickHacks();this.setupMobile();"undefined"!==typeof Storage&&(localStorage.getItem("newcommunity")||this.showCommunityNew&&b('.main-items li a[href="httpss://blog.hypopenguin.com"]').append('<div class="new-im"></div>').addClass("new"))},setupQuickHacks:function(){b(".main-items").length||(b("#main-navigation").find(".main-container").append('<div class="main-items"></div>'),b("#main-navigation li:not(:first-of-type):not(.playTab)").appendTo(".main-items"));"helpinside"==b("body").attr("id")&&"HYPOPENGUIN"==document.title&&(document.title=b(".title-return").text()+" | Help | "+document.title)},setupMobile:function(){this.isMobile()&&(b("#main-navigation").append('<div class="mobile-navigation"></div>'),b("#content").length?b("#content").append('<div class="background-blocker"></div>'):b("body").append('<div class="background-blocker"></div>'),b("#main-navigation li a:not(.homeTab)").show().parent().appendTo(".mobile-navigation"),b("#main-navigation li.playTab").hide(),b(".nav-icon.help, .nav-icon.legal, .nav-icon.safety").parent().parent().hide(),b("#main-navigation .main-container").append('<li class="mobileBtn"><a href="#"></a></li>'),b(".mobileBtn a").click(function(a){a.preventDefault();b(this).toggleClass("close");b(".mobile-navigation").slideToggle("fast");b(".background-blocker").fadeToggle("fast")}))},isMobile:function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?!0:!1}};HYPOPENGUIN.Safety={linkName:"",init:function(){this.setupAgeGate()},setupAgeGate:function(){var a=this;b('a:not([href^="https://localhost"]):not([href$=".html"]):not([href^="https://hypopenguin.com"]):not([href^="https://blog.hypopenguin.com"]):not([href^="https://play.hypopenguin.com"]):not([href^="https://play.hypopenguin.com/create"]):not([href^="#"]):not([href^="/"]):not([href^="mailto:"])').addClass("externallink");b(".externallink").click(function(c){c.preventDefault();a.linkName=b(this).attr("href");b(document.body).append('<div class="age-gate-modal"><div class="content"><img src="/img/logo.png"/><h3>You\'re about to leave Hypo Penguin!</h3><h4>You are leaving Hypo Penguin, and are about to go to '+a.linkName+' where different Terms of Use and Privacy Policy will apply.</h4><a href="#" id="agegate-submit">Ok</a><a href="#" id="agegate-cancel">Cancel</a></div></div>');b(".age-gate-modal").fadeIn("fast");b("#agegate-link").text(a.linkName);b('meta[name="theme-color"]').attr("content","#B2BBC2")});b(document).on("click","#agegate-submit",function(b){b.preventDefault();window.location.href=a.linkName});b(document).on("click","#agegate-cancel",function(a){a.preventDefault();b(".age-gate-modal").fadeOut("fast",function(){b(this).remove()});b('meta[name="theme-color"]').attr("content","#0065af")})}};HYPOPENGUIN.Videos={player:b(".HYPOPENGUIN-video-player"),progressBar:b(".video-progress-bar"),videoComments:b(".video-comments"),controls:".video-controls",fadeSpeed:"fast",ytplayer:"",forcedOpen:!0,playerHeight:"506.25",playerWidth:"900",init:function(){var a=this,b=document.createElement("script"),d=document.getElementsByTagName("script")[0];HYPOPENGUIN.Base.isMobile()&&(a.playerHeight="auto",a.playerWidth="100%");b.src="httpss://www.youtube.com/iframe_api";d.parentNode.insertBefore(b,d);window.onYouTubeIframeAPIReady=function(){a.ytplayer=new YT.Player("videoplayer",{height:a.playerHeight,width:a.playerWidth,videoId:HYPOPENGUIN_data.video_id,playerVars:{modestbranding:1,showinfo:0,iv_load_policy:3,rel:0,controls:0},events:{onReady:a.onPlayerReady,onStateChange:a.onPlayerStateChange}})}},onPlayerReady:function(a){a=HYPOPENGUIN.Videos;a.toggleVideo();a.setupListeners();a.setupComments()},onPlayerStateChange:function(a){var b=HYPOPENGUIN.Videos;a.data==YT.PlayerState.PLAYING&&(HYPOPENGUIN.Base.isMobile()&&setTimeout(b.hideControls,3E3),b.playVideo());a.data==YT.PlayerState.PAUSED&&b.pauseVideo()},setupListeners:function(){var a=HYPOPENGUIN.Videos;a.player.on("mouseenter mouseleave",function(b){a.forcedOpen||a.toggleControls()});a.player.find("#play").click(function(){a.toggleVideo()});a.player.find("#fullscreen").click(function(){a.toggleFullscreen()});a.player.find(".controls-fill").click(function(){a.toggleVideo()});setInterval(a.updateProgress,200)},updateProgress:function(){var a=HYPOPENGUIN.Videos,c=Math.floor(a.ytplayer.getDuration()),d=a.ytplayer.getCurrentTime();a.progressBar.css("transform","scaleX("+d/c+")");d=Math.floor(c/60);c=Math.floor(c-
60*d);c=d+":"+(10>c?"0"+c:c);a=a.getCurrentDuration();b(".video-time").text(a+" / "+c)},getCurrentDuration:function(){var a=HYPOPENGUIN.Videos.ytplayer.getCurrentTime(),b=Math.floor(a/60);var d=Math.floor(a)-60*b;59<d&&(d=Math.floor(a)-60*b,60==d&&(b=Math.floor(a/60),d=0));return b+":"+(10>d?"0"+d:d)},showControls:function(){var a=HYPOPENGUIN.Videos,b=a.player.find(a.controls);b.fadeIn(a.fadeSpeed,function(){b.data("hidden","0")})},hideControls:function(){var a=HYPOPENGUIN.Videos,b=a.player.find(a.controls);a.player.is(":hover")?a.showControls():b.fadeOut(a.fadeSpeed,function(){b.data("hidden","1")});a.forcedOpen=!1},toggleControls:function(){var a=HYPOPENGUIN.Videos;"1"==a.player.find(a.controls).data("hidden")?a.showControls():a.hideControls()},toggleVideo:function(){var a=HYPOPENGUIN.Videos;1==a.ytplayer.getPlayerState()?a.pauseVideo():a.playVideo()},pauseVideo:function(){var a=HYPOPENGUIN.Videos;a.ytplayer.pauseVideo();a.forcedOpen=!0;a.player.find("#play").removeClass("pause")},playVideo:function(){var a=HYPOPENGUIN.Videos;a.ytplayer.playVideo();a.forcedOpen=!1;a.player.find("#play").addClass("pause")},toggleFullscreen:function(){var a=this.player.get(0);a.requestFullscreen?a.requestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen?a.webkitRequestFullscreen():a.msRequestFullscreen&&a.msRequestFullscreen()},showComment:function(){var a=HYPOPENGUIN.Videos,c=a.getCurrentDuration();a.ytplayer.getPlayerState()==YT.PlayerState.PLAYING&&b.ajax({url:admin_url,type:"post",data:{action:"show_vid_comments",timestamp:c,post_id:HYPOPENGUIN_data.post_id},success:function(c){a.videoComments.prepend(c.markup);b("#view-more-comments").fadeIn();a.videoComments.hasClass("open")?a.videoComments.find(".video-comment").slice(5,6).remove():a.videoComments.find(".video-comment").slice(1,2).remove()}})},setupComments:function(){b("#view-more-comments").click(function(){b(this).parent().addClass("open")});setInterval(this.showComment,1E3)}};HYPOPENGUIN.Community={postWidgets:".post-widgets",loading:!1,loadingPosts:!1,init:function(){var a=this;"undefined"===typeof Storage||localStorage.getItem("newcommunity")||(localStorage.setItem("newcommunity",!0),b('.main-items li a[href="https://blog.hypopenguin.com"]').removeClass("new").find(".new-im").remove());b(document).on("click",".expandimg",function(c){var d=b(this).attr("href");c.preventDefault();a.closeModal();c=b(this).hasClass("colouring-page")?" colouring-page":"";b(document.body).append('<div class="modal modal-image'+c+'"><div class="bg"></div><div class="content"><img src="'+
d+'"/><div class="close-btn"></div></div></div>');a.openModal()});b(document).on("click",".modal .bg",function(){a.closeModal()});b(document).on("click",".close-btn",function(){a.closeModal()});HYPOPENGUIN.Social.setupPoll()},showCategoryPosts:function(a,c){var d=this,f=b(d.postWidgets);d.loading||(d.loadingPosts=!0,f.fadeOut(function(){b(this).css({display:"grid"}).addClass("loading");b(this).empty();b(this).append(HYPOPENGUIN_data.loading_markup);b.ajax({url:admin_url,type:"post",data:{action:"post_listing",type:c,category_id:a,post_id:HYPOPENGUIN_data.post_id},success:function(e){e.success&&(d.loadingPosts=!1,f.removeClass("loading").append(e.markup).hide().fadeIn(function(){b(this).css("display","grid")}).find(".loader-wrap").remove(),HYPOPENGUIN.Loading.setupLozad(),b(".title").text(e.category_name),document.title=e.category_name+" | Community | Club Penguin HYPOPENGUIN",history.pushState({category_id:a,type:c},"lol",e.category_url),HYPOPENGUIN_data.current_page="1",HYPOPENGUIN_data.category_id=a,HYPOPENGUIN_data.max_page=e.max_pages)}})}))},categoryListing:function(){var a=this;b(a.postWidgets);window.onpopstate=function(b){a.showCategoryPosts(HYPOPENGUIN_data.category_id,b.state.type)};window.scrollTo(0,0);b(".category-item").click(function(c){c.preventDefault();var d=b(this).data("category-id");(b(this).hasClass("author")&&HYPOPENGUIN_data.author_page||b(this).hasClass("category")&&!HYPOPENGUIN_data.author_page)&&d==HYPOPENGUIN_data.category_id||(c=b(this).hasClass("author")?"author":"category",a.showCategoryPosts(d,c))});b(window).scroll(function(){b(window).scrollTop()+b(window).height()>b(document).height()-100&&(a.loading||HYPOPENGUIN_data.current_page!=HYPOPENGUIN_data.max_page&&a.loadMore())})},setupSinglePost:function(){var a="default";b(".wp-block-gallery").each(function(){a=b(this).find("img").data("src");b(this).find("img").wrap('<a class="blocks-gallery-item-wrapper" href="'+a+'"></a>').parent().addClass("expandimg")})},getContent:function(a,c,d,f,e){e=void 0===e?!1:e;b.ajax({url:a,success:function(a,h,g){a=String(a).replace(/<!DOCTYPE[^>]*>/i,"").replace(/<(html|head|body|title|script)([\s>])/gi,'<div id="document-$1"$2').replace(/<\/(html|head|body|title|script)>/gi,"</div>");a=b(a);h=a.find("#document-body:first");a.find("#document-body:first").attr("class");a=h.find(f).html()||a.html();h="";d&&(h='<div class="community-section-title">'+d+"</div>");e&&e();b(c).html(h+a)}})},setupModal:function(){b(document.body).append('<div class="modal"><div class="bg"></div><div class="content"><div class="frame">'+
HYPOPENGUIN_data.loading_markup+'</div><div class="close-btn"></div></div></div>');this.openModal()},openModal:function(){b(".modal").hide().fadeIn("fast");b(document.body).css("overflow","hidden")},closeModal:function(){b(".modal").fadeOut("fast",function(){b(this).remove()});b(document.body).css("overflow","auto")},loadMore:function(){var a=this;a.loading=!0;a.loadingPosts||(b(".post-widgets").parent().parent().append(HYPOPENGUIN_data.loading_markup),b.ajax({url:admin_url,type:"post",data:{action:"load_more_posts",page:HYPOPENGUIN_data.current_page,category_id:HYPOPENGUIN_data.category_id,author_page:HYPOPENGUIN_data.author_page},success:function(c){if(c=b(c).hide().appendTo(".post-widgets").fadeIn())HYPOPENGUIN.Loading.setupLozad(),b("html, body").animate({scrollTop:c.offset().top-15},"fast"),b(".loader-wrap").remove(),a.loading=!1,HYPOPENGUIN_data.current_page++}}))}};HYPOPENGUIN.Account={loginButton:".HYPOPENGUIN-login",tfaButton:".2fa-login",accountPrompt:b(".account-prompt"),accountSection:b(".account-section"),sessionHidden:b(".HYPOPENGUIN-session-hidden"),accountSetup:!1,accountCalls:0,expectedAccountCalls:0,loading:!1,init:function(){var a=this;b("body").on("click",".login-comment-btn .HYPOPENGUIN-session-hidden",function(c){c.preventDefault();c.stopPropagation();a.showPrompt(void 0,b(this))});b("body").on("click",".poll-login-btn",function(c){c.preventDefault();c.stopPropagation();a.showPrompt(void 0,b(this))});a.setupPrompts();a.checkLogin()},checkLogin:function(){this.loading=!0;this.verifyData(this.getSessionData("token"))},setupPrompts:function(){var a=this;a.accountPrompt.prepend('<div class="background-blocker"></div>');a.accountPrompt.find(".close-button").click(function(b){b.preventDefault();a.hidePrompt()});b(".account-prompt").on("touchend",a.loginButton,function(a){a.preventDefault();a.stopPropagation();a.target.click()});b(".account-prompt").on("click",a.loginButton,function(c){c.preventDefault();c=c.target.parentElement.parentElement;var d={};d.username=b(c).find("#form-penguin-name").val();d.password=b(c).find("#form-password").val();a.verifyData(d,!0)});b(".account-prompt").on("click",".create-penguin-prompt",function(a){});HYPOPENGUIN.Base.isMobile()||b(".account-prompt").draggable({handle:".account-header",cursor:"move",scroll:!1})},showPrompt:function(a,c){var d=a=void 0===a?"default":a;this.hideAccountError();this.accountPrompt.find(".HYPOPENGUIN-session-hidden").show();b("body").css("overflow","hidden");b(".background-blocker").fadeIn("fast");this.accountPrompt.removeClass("account-prompt-create").fadeIn("fast").css("display","flex");this.accountPrompt.find(".create-box").remove();b('meta[name="theme-color"]').attr("content","#0280cd");this.loading&&(d="loading");"loading"==d?(this.accountPrompt.find(".account-box").hide(),this.accountPrompt.find(".account-prompt-content").append(HYPOPENGUIN_data.loading_markup).find(".close-button").hide()):"2fa"==d?(this.setup2faPrompt(),this.accountPrompt.find(".loader-wrap").remove()):"create"==d?this.setupCreatePrompt():(this.accountPrompt.find(".account-box").show(),this.accountPrompt.find(".loader-wrap").remove(),this.accountPrompt.find(".account-prompt-content").find(".close-button").show());"default"==a&&c&&(HYPOPENGUIN_data.current_action=c)},hidePrompt:function(){b("body").css("overflow","auto");b(".background-blocker").fadeOut("fast");this.accountPrompt.fadeOut("fast");b('meta[name="theme-color"]').attr("content","#0065af")},setupCreatePrompt:function(){this.accountPrompt.find(".HYPOPENGUIN-session-hidden").hide().parent().append('<div class="create-box"></div>');HYPOPENGUIN.Community.getContent("https://play.hypopenguin.com/create",".account-prompt .create-box",!1,"#content",this.createPromptCallback)},createPromptCallback:function(){HYPOPENGUIN.Account.accountPrompt.addClass("account-prompt-create");b.getScript("httpss://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js");b.getScript("https://hypopenguin.com/create/js/create.js");b.getScript("httpss://www.google.com/recaptcha/api.js")},setup2faPrompt:function(){var a=this,c=a.accountPrompt.find(".multiple-input-wrapper").find("input");c.size();c.first().focus();c.on("input",function(){""!==b(this).val()&&c.eq(c.index(this)+1).focus()});c.on("keydown",function(a){a=a.keyCode||a.charCode;8!=a&&46!=a||c.eq(c.index(this)-1).focus()});b("#2fa-form").submit(function(c){c.preventDefault();c=b(this).serializeArray();var d="";b.each(c,function(a,b){d+=b.value});d=Number(d);6==d.toString().length?a.login2fa(d):console.log(d)})},callCompleted:function(){this.accountCalls++;this.accountCalls==this.expectedAccountCalls&&(this.accountSetup=!0,this.hidePrompt(),b(".poll-selection").length&&b(".poll-selection").each(function(){b(this).css("width","0%").animate({width:b(this).data("percentage")+"%"})}))},login2fa:function(a){this.showPrompt("loading");b.ajax({url:admin_url,type:"post",data:{action:"setup_2fa","2fa_data":a},success:function(a){a.success&&console.log(a)}})},verifyData:function(a,c){c=void 0===c?!1:c;var d=this;d.isAccountSetup()?d.displayAccountError("You're already logged in!"):(c&&d.showPrompt("loading"),d.sessionHidden.hide(),d.sessionHidden.parent().find(".loader-wrap").show(),b.ajax({url:admin_url,type:"post",data:{action:"login_acc",penguin_details:a,penguin_login:c},success:function(a){d.setupAfterLogin(a)}}))},setupAfterLogin:function(a){var c=a.penguin;c.success?(c=c.message.cpr_penguin_data,localStorage.setItem("penguin_data",JSON.stringify(c)),localStorage.setItem("penguin_token",a.token),this.accountSection.find(".username").text(c.nickname),this.accountSection.find(".birthday").text(c.register_date),this.accountSection.find(".swid").text(c.swid),this.accountSection.find(".comment-avatar").css("backgroundImage","url(httpss://avatar.cpHYPOPENGUIN.net/paperdoll.php?swid="+c.swid+"&size=300)"),this.expectedAccountCalls=this.accountCalls=0,b("body").hasClass("home")?(this.expectedAccountCalls++,this.setupAccountPoll()):b("body").hasClass("single-post")&&(this.expectedAccountCalls+=3,this.setupAccountComments(c),this.setupLiked(c),this.setupLikedComments(c))):(a={0:"Something doesn't seem quite right, check back later!",1:"Please enter your penguin details.",2:"Please enter your penguin details.",3:"Sorry! You entered the wrong penguin name!",4:"Sorry! You entered an incorrect password.",5:"This penguin wasn't found.",6:"Sorry! You entered an incorrect password.",7:"You are currently banned.",8:"Please check your email to activate your penguin.",9:"Maximum login attempts reached. Please try again later."},c.error_id?this.displayAccountError(a[c.error_id]):(console.log("send to logout user"),this.logoutUser()))},displayAccountError:function(a){console.error("displayAccountError(",a,")");this.showPrompt(void 0);this.sessionHidden.show();this.sessionHidden.parent().find(".loader-wrap").hide();b(".link-container").slideUp();b(".account-form-error").text(a).slideDown()},logoutUser:function(){var a=this;b.ajax({url:admin_url,type:"post",data:{action:"logout_account"},success:function(c){console.log("logout");a.loading=!1;localStorage.removeItem("penguin_data");localStorage.removeItem("penguin_token");b("body").hasClass("home")&&a.setupAccountPoll();a.sessionHidden.show();a.sessionHidden.parent().find(".loader-wrap").hide()}})},isLoggedIn:function(){return this.getSessionData("penguin")?!0:!1},isAccountSetup:function(){return this.accountSetup?!0:!1},getSessionData:function(a,b){if("penguin"==a){var c=localStorage.getItem("penguin_data");b&&(c=JSON.parse(c)[b])}else"token"==a&&(c=localStorage.getItem("penguin_token"));return c},hideAccountError:function(){b(".account-form-error").text("").hide();b(".link-container").show()},setupAccountPoll:function(){var a=this,c={action:"the_penguin_poll",penguin_data:a.getSessionData("penguin")};b.ajax({url:admin_url,type:"post",data:c,success:function(c){c.success?(console.log(c),b(".community-poll").find(".HYPOPENGUIN-session-hidden").html(c.markup).show(),b(".community-poll").find(".HYPOPENGUIN-session-hidden").parent().find(".loader-wrap").hide(),a.callCompleted()):(console.error("there was an error"),console.error(c))}})},setupLiked:function(){var a=this,c={action:"has_user_liked_check",post_id:HYPOPENGUIN_data.post_id,penguin_data:a.getSessionData("penguin")};b.ajax({url:admin_url,type:"post",data:c,success:function(c){a.callCompleted();c.success&&c.liked&&b(".blog_header").find(".like-icon").addClass("liked")}})},setupLikedComments:function(){var a=this,c=[];b(".comment-container").each(function(){c.push(b(this).data("comment-id"))});var d={action:"has_user_liked_comment_check",comments:c,penguin_data:a.getSessionData("penguin")};b.ajax({url:admin_url,type:"post",data:d,success:function(c){a.callCompleted();if(c.success&&(c=c.comments))for(var d=0;c.length>d;d++){var k=b("#comment-"+c[d]);k.find(".comment-like-link").addClass("liked");k.find(".comment-like-text").text("Liked")}}})},setupAccountComments:function(){var a=this,c={action:"the_comment_form",post_id:HYPOPENGUIN_data.post_id,penguin_data:a.getSessionData("penguin")};b.ajax({url:admin_url,type:"post",data:c,success:function(c){c.success?(a.callCompleted(),b(".login-container").remove(),b(".login-box").addClass("loggedin").append(c.markup),HYPOPENGUIN.Social.initComments()):(console.error("there was an error"),console.error(c))}})}};HYPOPENGUIN.Social={pollForm:"#poll-form",likeLocked:!1,commentLikeLocked:!1,setupPoll:function(){var a=this;b(a.pollForm).submit(function(c){var d=b('input[name="poll-option"]:checked').val();c.preventDefault();d?a.getPollResults(d):b(".community-poll .poll-question").css("color","#b53131")})},setupLikes:function(){var a=this;b(".like-icon-post").click(function(){HYPOPENGUIN.Account.isLoggedIn()?a.likeLocked||a.likePost():HYPOPENGUIN.Account.showPrompt(void 0,b(this))});b(".comment-like-link").click(function(c){c.preventDefault();HYPOPENGUIN.Account.isLoggedIn()?a.commentLikeLocked||a.likeComment(b(this),b(this).closest(".comment-container").data("comment-id")):HYPOPENGUIN.Account.showPrompt(void 0,b(this))})},likePost:function(){var a=this,c={action:"like_post",post_id:HYPOPENGUIN_data.post_id,penguin_data:HYPOPENGUIN.Account.getSessionData("penguin")},d=b(".like-icon"),f=b(".like-count"),e=b(".liked-text-pop");a.likeLocked=!0;b.ajax({url:admin_url,type:"post",data:c,success:function(b){b.success?(a.likeLocked=!1,0<b.count?f.text(b.count):f.text(""),b.already_voted?(d.removeClass("liked"),e.removeClass("playing")):(d.addClass("liked"),e.addClass("playing"))):console.log("There was an error!",b)}})},likeComment:function(a,c){var d=this,f={action:"like_comment",post_id:HYPOPENGUIN_data.post_id,comment_id:c,penguin_data:HYPOPENGUIN.Account.getSessionData("penguin")},e=a.find(".comment-like-count"),g=a.find(".comment-like-text");d.commentLikeLocked=!0;b.ajax({url:admin_url,type:"post",data:f,success:function(b){b.success&&(d.commentLikeLocked=!1,console.log(b.count),0<b.count?e.text("("+b.count+")"):e.text(""),b.already_voted?(g.text("Like"),a.removeClass("liked")):(g.text("Liked"),a.addClass("liked")))}})},getPollResults:function(a){var c=b(this.pollForm);c.find(".HYPOPENGUIN-session-hidden").hide();c.find(".HYPOPENGUIN-session-hidden").parent().find(".loader-wrap").show();a={action:"poll_vote",penguin_data:HYPOPENGUIN.Account.getSessionData("penguin"),option:a};b.ajax({url:admin_url,type:"post",data:a,success:function(a){a.success&&(console.log(a),c.fadeIn(function(){b(".poll-options").html("").append(a.markup).fadeIn();b(".poll-selection").each(function(){b(this).css("width","0%").animate({width:b(this).data("percentage")+"%"})})}))}})},initComments:function(){this.comments=b("#comments");this.commentWrap=b("#respond");this.commentContainer=b(".comment-container");this.commentForm=b("#commentform");this.commentFormMain=".comment-form-main";this.cancelReply=b("#cancel-comment-reply-link");this.loginComment=b("#login-comment");this.loginContainer=b(".login-container");this.charCount=b(".comment-char-count");this.commentField=b(".comment-field");this.commentContainerWrap=b(".comment-container-wrap");!this.loginContainer.length&&this.commentForm.length?this.commentSetup():this.commentWrap.remove()},setupComments:function(){this.replyLink=".comment-reply-link";b(".comment").find(this.replyLink).removeAttr("onclick");b("body").on("click",this.replyLink,function(a){a.preventDefault();a.stopPropagation();HYPOPENGUIN.Account.showPrompt(void 0,b(this))})},commentSetup:function(){this.commentForm.removeAttr("method").removeAttr("action").wrapInner('<div class="comment-form-main"></div>').find(".form-submit").insertAfter(this.commentFormMain);b(".form-data").appendTo("#respond");this.cancelReply.appendTo(".form-submit").addClass("HYPOPENGUIN-button").addClass("HYPOPENGUIN-flat-button");this.charCount.appendTo(this.commentFormMain);this.commentListeners()},commentListeners:function(){var a=this;a.comments.on("click",a.replyLink,function(b){b.preventDefault();b.stopPropagation();a.commentForm.scrollTop(0)});a.commentForm.on("submit",function(b){b.preventDefault();b.stopPropagation();a.postComment(a.commentForm.serializeArray())});b("#comments").on("click",".comment-reply-link",function(c){c.preventDefault();c=b(this).parents(".comment-container:eq(0)").data("comment-id");b(".login-box").removeClass("loggedin");window.addComment.init();window.addComment.moveForm("comment-"+c,c,"respond",HYPOPENGUIN_data.post_id);a.comments.find(".blog_divider").hide()});a.cancelReply.click(function(){b(".login-box").addClass("loggedin");a.comments.find(".blog_divider").show()});a.commentField.keyup(function(){var c=a.commentField.val().length;a.charCount.find(".count").text(c);c==a.charCount.find(".max").text()?a.charCount.addClass("max-count"):a.charCount.removeClass("max-count");b(this).focus()});a.commentField.keydown(function(){a.commentField.keyup()});a.commentField.focus(function(){b(".login-box").find(".comment-notice").slideUp()})},postComment:function(a){var c=this;b(".comment-respond").hide();b(".login-box").prepend(HYPOPENGUIN_data.loading_markup).addClass("loading");c.hideCommentError();a={action:"post_comment",post_id:HYPOPENGUIN_data.post_id,comment:c.commentField.val(),penguin_data:HYPOPENGUIN.Account.getSessionData("penguin"),comment_parent:b("#comment_parent").val()};b.ajax({url:admin_url,type:"post",data:a,success:function(a){console.log(a);b(".comment-respond").show();b(".login-box").removeClass("loading").find(".loader-wrap").remove();a.success?(c.cancelReply.click(),c.commentField.val(""),c.charCount.find(".count").text("0"),c.commentContainerWrap.prepend(a.markup).find(".comment-notice").slideDown(),b("html, body").animate({scrollTop:c.commentContainerWrap.find(".comment-notice").offset().top-
15},"fast")):(c.showCommentError(a),b("html, body").animate({scrollTop:b(".login-box").find(".comment-notice").offset().top-15},"fast"))}})},showCommentError:function(a){b(".login-box").find(".comment-notice:first-of-type").slideUp(function(){b(this).remove()});b(".login-box").prepend('<div class="comment-notice comment-queued">'+a+"</div>").find(".comment-notice").slideDown()},hideCommentError:function(){b(".login-box").find(".comment-notice").remove()}};HYPOPENGUIN.Loading={init:function(){this.setupSPF();b(".lozad").on("load",function(){b(this);b(this).fadeIn("fast")})},setupLozad:function(){"undefined"!==typeof lozad&&lozad().observe()},setupSPF:function(){"undefined"!==typeof spf&&spf.init();b("a").each(function(){b(this).hasClass("externallink")||b(this).addClass("spf-link")})}};HYPOPENGUIN.Help={tutorialElement:b("#tutorial"),maxTutorials:5,currentStep:1,init:function(){this.setupTutorial()},setupTutorial:function(){var a=this;a.tutorialElement.find(".step-"+a.currentStep).css("display","flex");a.tutorialElement.find(".arrow-next").click(function(){a.currentStep++;a.tutorialElement.find(".step").hide().parent().find(".step-"+a.currentStep).css("display","flex")});a.tutorialElement.find(".arrow-prev").click(function(){a.currentStep--;a.tutorialElement.find(".step").hide().parent().find(".step-"+a.currentStep).css("display","flex")})}}});

}